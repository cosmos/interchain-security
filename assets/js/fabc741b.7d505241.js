"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[5958],{2822:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>c});var i=o(5893),r=o(1151);const s={sidebar_position:3},a="ICS Provider Proposals",t={id:"features/proposals",title:"ICS Provider Proposals",description:"Interchain security module introduces new proposal types to the provider.",source:"@site/versioned_docs/version-v5.2.0/features/proposals.md",sourceDirName:"features",slug:"/features/proposals",permalink:"/interchain-security/v5.2.0/features/proposals",draft:!1,unlisted:!1,tags:[],version:"v5.2.0",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Reward Distribution",permalink:"/interchain-security/v5.2.0/features/reward-distribution"},next:{title:"Consumer Initiated Slashing",permalink:"/interchain-security/v5.2.0/features/slashing"}},d={},c=[{value:"<code>ConsumerAdditionProposal</code>",id:"consumeradditionproposal",level:2},{value:"<code>ConsumerRemovalProposal</code>",id:"consumerremovalproposal",level:2},{value:"<code>ConsumerModificationProposal</code>",id:"consumermodificationproposal",level:2},{value:"ChangeRewardDenomProposal",id:"changerewarddenomproposal",level:2}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"ics-provider-proposals",children:"ICS Provider Proposals"}),"\n",(0,i.jsx)(n.p,{children:"Interchain security module introduces new proposal types to the provider."}),"\n",(0,i.jsx)(n.p,{children:"The proposals are used to propose upcoming interchain security events through governance."}),"\n",(0,i.jsx)(n.h2,{id:"consumeradditionproposal",children:(0,i.jsx)(n.code,{children:"ConsumerAdditionProposal"})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["If you are preparing a ",(0,i.jsx)(n.code,{children:"ConsumerAdditionProposal"})," you can find more information in the ",(0,i.jsx)(n.a,{href:"/interchain-security/v5.2.0/consumer-development/onboarding",children:"consumer onboarding checklist"}),"."]})}),"\n",(0,i.jsx)(n.p,{children:"Proposal type used to suggest adding a new consumer chain."}),"\n",(0,i.jsxs)(n.p,{children:["When proposals of this type are passed and the ",(0,i.jsx)(n.code,{children:"spawn_time"})," specified in the proposal is reached, all provider chain validators are expected to run infrastructure (validator nodes) for the proposed consumer chain."]}),"\n",(0,i.jsx)(n.p,{children:"Minimal example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'{\n    // Time on the provider chain at which the consumer chain genesis is finalized and all validators\n    // will be responsible for starting their consumer chain validator node.\n    "spawn_time": "2023-02-28T20:40:00.000000Z",\n    "title": "Add consumer chain",\n    "description": ".md description of your chain and all other relevant information",\n    "chain_id": "newchain-1",\n    "initial_height" : {\n        "revision_height": 0,\n        "revision_number": 1,\n    },\n    // Unbonding period for the consumer chain.\n    // It should be smaller than that of the provider.\n    "unbonding_period": 86400000000000,\n    // Timeout period for CCV related IBC packets.\n    // Packets are considered timed-out after this interval elapses.\n    "ccv_timeout_period": 259200000000000,\n    "transfer_timeout_period": 1800000000000,\n    "consumer_redistribution_fraction": "0.75",\n    "blocks_per_distribution_transmission": 1000,\n    "historical_entries": 10000,\n    "genesis_hash": "d86d756e10118e66e6805e9cc476949da2e750098fcc7634fd0cc77f57a0b2b0",\n    "binary_hash": "376cdbd3a222a3d5c730c9637454cd4dd925e2f9e2e0d0f3702fc922928583f1",\n    "distribution_transmission_channel": "channel-123",\n    "top_N": 95,\n    "validators_power_cap": 0,\n    "validator_set_cap": 0,\n    "allowlist": [],\n    "denylist": []\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["More examples can be found in the interchain security testnet repository ",(0,i.jsx)(n.a,{href:"https://github.com/cosmos/testnets/blob/master/interchain-security/stopped/baryon-1/proposal-baryon-1.json",children:"here"})," and ",(0,i.jsx)(n.a,{href:"https://github.com/cosmos/testnets/blob/master/interchain-security/stopped/noble-1/start-proposal-noble-1.json",children:"here"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"consumerremovalproposal",children:(0,i.jsx)(n.code,{children:"ConsumerRemovalProposal"})}),"\n",(0,i.jsx)(n.p,{children:"Proposal type used to suggest removing an existing consumer chain."}),"\n",(0,i.jsx)(n.p,{children:"When proposals of this type are passed, the consumer chain in question will be gracefully removed from interchain security and validators will no longer be required to run infrastructure for the specified chain.\nAfter the consumer chain removal, the chain in question will no longer be secured by the provider's validator set."}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["The chain in question my continue to produce blocks, but the validator set can no longer be slashed for any infractions committed on that chain.\nAdditional steps are required to completely offboard a consumer chain, such as re-introducing the staking module and removing the provider's validators from the active set.\nMore information will be made available in the ",(0,i.jsx)(n.a,{href:"/interchain-security/v5.2.0/consumer-development/offboarding",children:"Consumer Offboarding Checklist"}),"."]})}),"\n",(0,i.jsx)(n.p,{children:"Minimal example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'{\n    // the time on the provider chain at which all validators are responsible to stop their consumer chain validator node\n    "stop_time": "2023-03-07T12:40:00.000000Z",\n    // the chain-id of the consumer chain to be stopped\n    "chain_id": "consumerchain-1",\n    "title": "This was a great chain",\n    "description": "Here is a .md formatted string specifying removal details"\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"consumermodificationproposal",children:(0,i.jsx)(n.code,{children:"ConsumerModificationProposal"})}),"\n",(0,i.jsx)(n.p,{children:"Proposal type used to change the power shaping parameters of a running consumer chain, as well as to change a Top N running\nconsumer chain to an Opt-In chain and vice versa."}),"\n",(0,i.jsxs)(n.p,{children:["When a ",(0,i.jsx)(n.code,{children:"ConsumerModificationProposal"})," passes for a running consumer chain, the consumer chain would change all its\nparameters to the ones passed in the ",(0,i.jsx)(n.code,{children:"ConsumerModificationProposal"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Assume, a ",(0,i.jsx)(n.code,{children:"chain-1"})," is a Top N chain. If the following ",(0,i.jsx)(n.code,{children:"ConsumerModificationProposal"})," passes, then ",(0,i.jsx)(n.code,{children:"chain-1"})," would become\nan Opt-In chain with a 40% validators power cap, a maximum number of 30 validators, and one denylisted validator."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'{\n    "title": "Modify consumer chain",\n    "description": ".md description of your chain and all other relevant information",\n    "chain_id": "chain-1",\n    "top_N": 0,\n    "validators_power_cap": 40,\n    "validator_set_cap": 30,\n    "allowlist": [],\n    "denylist": ["cosmosvalcons1qmq08eruchr5sf5s3rwz7djpr5a25f7xw4mceq"]\n}\n'})}),"\n",(0,i.jsxs)(n.admonition,{type:"warning",children:[(0,i.jsxs)(n.p,{children:["If ",(0,i.jsx)(n.code,{children:"top_N"}),", ",(0,i.jsx)(n.code,{children:"validators_power_cap"}),", or some other argument is not included in the proposal, then it is considered\nthat the default value is set for this argument. For example, if a Top 50% chain wants to only modify ",(0,i.jsx)(n.code,{children:"validators_power_cap"}),"\nfrom 35 to 40, then the ",(0,i.jsx)(n.code,{children:"ConsumerModificationProposal"})," would still need to include that ",(0,i.jsx)(n.code,{children:"top_N"})," is 50. Otherwise\n",(0,i.jsx)(n.code,{children:"top_N"})," would be set to its default value of 0, and the chain would become an Opt-In chain."]}),(0,i.jsxs)(n.p,{children:["To be ",(0,i.jsx)(n.strong,{children:"safe"}),", always include ",(0,i.jsx)(n.code,{children:"top_N"})," and all the power shaping parameters in your ",(0,i.jsx)(n.code,{children:"ConsumerModificationProposal"}),"."]})]}),"\n",(0,i.jsx)(n.h2,{id:"changerewarddenomproposal",children:"ChangeRewardDenomProposal"}),"\n",(0,i.jsx)(n.p,{children:"Proposal type used to mutate the set of denoms accepted by the provider as rewards."}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["A ",(0,i.jsx)(n.code,{children:"ChangeRewardDenomProposal"})," will only be accepted on the provider chain if at least one of the ",(0,i.jsx)(n.code,{children:"denomsToAdd"})," or ",(0,i.jsx)(n.code,{children:"denomsToRemove"})," fields is populated with at least one denom. Also, a denom cannot be repeated in both sets."]})}),"\n",(0,i.jsx)(n.p,{children:"Minimal example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'{\n  "title": "Add uatom as a reward denom",\n  "description": "Here is more information about the proposal",\n  "denomsToAdd": ["uatom"],\n  "denomsToRemove": []\n}\n'})}),"\n",(0,i.jsxs)(n.admonition,{type:"tip",children:[(0,i.jsxs)(n.p,{children:["Besides native provider denoms (e.g., ",(0,i.jsx)(n.code,{children:"uatom"})," for the Cosmos Hub), please use the ",(0,i.jsx)(n.code,{children:"ibc/*"})," denom trace format.\nFor example, for ",(0,i.jsx)(n.code,{children:"untrn"})," transferred over the path ",(0,i.jsx)(n.code,{children:"transfer/channel-569"}),", the denom trace\ncan be queried using the following command:"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"> gaiad query ibc-transfer denom-hash transfer/channel-569/untrn\nhash: 0025F8A87464A471E66B234C4F93AEC5B4DA3D42D7986451A059273426290DD5\n"})}),(0,i.jsxs)(n.p,{children:["Then use the resulting hash in the ",(0,i.jsx)(n.code,{children:"ChangeRewardDenomProposal"}),", e.g.,"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'{\n  "title": "Add untrn as a reward denom",\n  "description": "Here is more information about the proposal",\n  "denomsToAdd": ["ibc/0025F8A87464A471E66B234C4F93AEC5B4DA3D42D7986451A059273426290DD5"],\n  "denomsToRemove": []\n}\n'})})]})]})}function h(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},1151:(e,n,o)=>{o.d(n,{Z:()=>t,a:()=>a});var i=o(7294);const r={},s=i.createContext(r);function a(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);