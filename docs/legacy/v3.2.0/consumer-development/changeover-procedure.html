<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-v3.2.0 plugin-docs plugin-id-default docs-doc-id-consumer-development/changeover-procedure">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Changeover Procedure | Interchain Security</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://cosmos.github.io/interchain-security/legacy/img/banner.jpg"><meta data-rh="true" name="twitter:image" content="https://cosmos.github.io/interchain-security/legacy/img/banner.jpg"><meta data-rh="true" property="og:url" content="https://cosmos.github.io/interchain-security/legacy/v3.2.0/consumer-development/changeover-procedure"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="v3.2.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-v3.2.0"><meta data-rh="true" name="docsearch:version" content="v3.2.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-v3.2.0"><meta data-rh="true" property="og:title" content="Changeover Procedure | Interchain Security"><meta data-rh="true" name="description" content="Chains that were not initially launched as consumers of replicated security can still participate in the protocol and leverage the economic security of the provider chain. The process where a standalone chain transitions to being a replicated consumer chain is called the changeover procedure and is part of the interchain security protocol. After the changeover, the new consumer chain will retain all existing state, including the IBC clients, connections and channels already established by the chain."><meta data-rh="true" property="og:description" content="Chains that were not initially launched as consumers of replicated security can still participate in the protocol and leverage the economic security of the provider chain. The process where a standalone chain transitions to being a replicated consumer chain is called the changeover procedure and is part of the interchain security protocol. After the changeover, the new consumer chain will retain all existing state, including the IBC clients, connections and channels already established by the chain."><link data-rh="true" rel="icon" href="/interchain-security/legacy/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://cosmos.github.io/interchain-security/legacy/v3.2.0/consumer-development/changeover-procedure"><link data-rh="true" rel="alternate" href="https://cosmos.github.io/interchain-security/legacy/v3.2.0/consumer-development/changeover-procedure" hreflang="en"><link data-rh="true" rel="alternate" href="https://cosmos.github.io/interchain-security/legacy/v3.2.0/consumer-development/changeover-procedure" hreflang="x-default"><link rel="stylesheet" href="/interchain-security/legacy/assets/css/styles.f695a4a3.css">
<link rel="preload" href="/interchain-security/legacy/assets/js/runtime~main.6dc179b3.js" as="script">
<link rel="preload" href="/interchain-security/legacy/assets/js/main.206ddac4.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/interchain-security/legacy/"><b class="navbar__title text--truncate">Interchain Security</b></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/interchain-security/legacy/">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/interchain-security/legacy/">Next</a></li><li><a class="dropdown__link" href="/interchain-security/legacy/">v3.3.1-lsm</a></li><li><a class="dropdown__link" href="/interchain-security/legacy/v3.3.0">v3.3.0</a></li><li><a class="dropdown__link" href="/interchain-security/legacy/v3.2.0">v3.2.0</a></li><li><a class="dropdown__link" href="/interchain-security/legacy/v3.1.0">v3.1.0</a></li><li><a class="dropdown__link" href="/interchain-security/legacy/v2.4.0-lsm">v2.4.0-lsm</a></li><li><a class="dropdown__link" href="/interchain-security/legacy/v2.0.0">v2.0.0</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/cosmos/interchain-security" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="github-icon">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M12 0.300049C5.4 0.300049 0 5.70005 0 12.3001C0 17.6001 3.4 22.1001 8.2 23.7001C8.8 23.8001 9 23.4001 9 23.1001C9 22.8001 9 22.1001 9 21.1001C5.7 21.8001 5 19.5001 5 19.5001C4.5 18.1001 3.7 17.7001 3.7 17.7001C2.5 17.0001 3.7 17.0001 3.7 17.0001C4.9 17.1001 5.5 18.2001 5.5 18.2001C6.6 20.0001 8.3 19.5001 9 19.2001C9.1 18.4001 9.4 17.9001 9.8 17.6001C7.1 17.3001 4.3 16.3001 4.3 11.7001C4.3 10.4001 4.8 9.30005 5.5 8.50005C5.5 8.10005 5 6.90005 5.7 5.30005C5.7 5.30005 6.7 5.00005 9 6.50005C10 6.20005 11 6.10005 12 6.10005C13 6.10005 14 6.20005 15 6.50005C17.3 4.90005 18.3 5.30005 18.3 5.30005C19 7.00005 18.5 8.20005 18.4 8.50005C19.2 9.30005 19.6 10.4001 19.6 11.7001C19.6 16.3001 16.8 17.3001 14.1 17.6001C14.5 18.0001 14.9 18.7001 14.9 19.8001C14.9 21.4001 14.9 22.7001 14.9 23.1001C14.9 23.4001 15.1 23.8001 15.7 23.7001C20.5 22.1001 23.9 17.6001 23.9 12.3001C24 5.70005 18.6 0.300049 12 0.300049Z" fill="currentColor"/>
            </svg>
            </a><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/interchain-security/legacy/v3.2.0">Interchain Security Docs</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/interchain-security/legacy/v3.2.0/introduction/overview">Introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/interchain-security/legacy/v3.2.0/features/key-assignment">Features</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/interchain-security/legacy/v3.2.0/consumer-development/app-integration">Consumer Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/interchain-security/legacy/v3.2.0/consumer-development/app-integration">Developing an ICS consumer chain</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/interchain-security/legacy/v3.2.0/consumer-development/consumer-chain-governance">Consumer Chain Governance</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/interchain-security/legacy/v3.2.0/consumer-development/onboarding">Onboarding Checklist</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/interchain-security/legacy/v3.2.0/consumer-development/offboarding">Offboarding Checklist</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/interchain-security/legacy/v3.2.0/consumer-development/changeover-procedure">Changeover Procedure</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/interchain-security/legacy/v3.2.0/validators/overview">Validators Guide</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/interchain-security/legacy/v3.2.0/faq">Frequently Asked Questions</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/interchain-security/legacy/v3.2.0/adrs/intro">ADRs</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Interchain Security<!-- --> <b>v3.2.0</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/interchain-security/legacy/">latest version</a></b> (<!-- -->v3.3.1-lsm<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/interchain-security/legacy/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Consumer Guide</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Changeover Procedure</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v3.2.0</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Changeover Procedure</h1><p>Chains that were not initially launched as consumers of replicated security can still participate in the protocol and leverage the economic security of the provider chain. The process where a standalone chain transitions to being a replicated consumer chain is called the <strong>changeover procedure</strong> and is part of the interchain security protocol. After the changeover, the new consumer chain will retain all existing state, including the IBC clients, connections and channels already established by the chain.</p><p>The relevant protocol specifications are available below:</p><ul><li><a href="https://github.com/cosmos/ibc/blob/main/spec/app/ics-028-cross-chain-validation/overview_and_basic_concepts.md#channel-initialization-existing-chains" target="_blank" rel="noopener noreferrer">ICS-28 with existing chains</a>.</li><li><a href="/interchain-security/legacy/v3.2.0/adrs/adr-010-standalone-changeover">ADR in ICS repo</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2><p>Standalone to consumer changeover procedure can rougly be separated into 4 parts:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-consumeraddition-proposal-submitted-to-the-provider-chain">1. ConsumerAddition proposal submitted to the <code>provider</code> chain<a href="#1-consumeraddition-proposal-submitted-to-the-provider-chain" class="hash-link" aria-label="Direct link to 1-consumeraddition-proposal-submitted-to-the-provider-chain" title="Direct link to 1-consumeraddition-proposal-submitted-to-the-provider-chain">​</a></h3><p>The proposal is equivalent to the &quot;normal&quot; ConsumerAddition proposal submitted by new consumer chains.</p><p>However, here are the most important notes and differences between a new consumer chain and a standalone chain performing a changeover:</p><ul><li><code>chain_id</code> must be equal to the standalone chain id</li><li><code>initial_height</code> field has additional rules to abide by:</li></ul><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;initial_height&quot; : {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // must correspond to current revision number of standalone chain</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // e.g. stride-1 =&gt; &quot;revision_number&quot;: 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;revision_number&quot;: 1,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // must correspond to a height that is at least 1 block after the upgrade</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // that will add the `consumer` module to the standalone chain</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // e.g. &quot;upgrade_height&quot;: 100 =&gt; &quot;revision_height&quot;: 101</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;revision_height&quot;: 1,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>RevisionNumber: 0, RevisionHeight: 111</p></div></div><ul><li><p><code>genesis_hash</code> can be safely ignored because the chain is already running. A hash of the standalone chain&#x27;s initial genesis may be used</p></li><li><p><code>binary_hash</code> may not be available ahead of time. All chains performing the changeover go through rigorous testing - if bugs are caught and fixed the hash listed in the proposal may not be the most recent one.</p></li><li><p><code>spawn_time</code> listed in the proposal MUST be before the <code>upgrade_height</code> listed in the the upgrade proposal on the standalone chain.</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p><code>spawn_time</code> must occur before the <code>upgrade_height</code> on the standalone chain is reached becasue the <code>provider</code> chain must generate the <code>ConsumerGenesis</code> that contains the <strong>validator set</strong> that will be used after the changeover.</p></div></div></li><li><p><code>unbonding_period</code> must correspond to the value used on the standalone chain. Otherwise, the clients used for the ccv protocol may be incorrectly initialized.</p></li><li><p><code>distribution_transmission_channel</code> <strong>should be set</strong>.</p></li></ul><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Populating <code>distribution_transmission_channel</code> will enable the standalone chain to re-use one of the existing channels to the provider for consumer chain rewards distribution. This will preserve the <code>ibc denom</code> that may already be in use.</p><p>If the parameter is not set, a new channel will be created.</p></div></div><ul><li><p><code>ccv_timeout_period</code> has no important notes</p></li><li><p><code>transfer_timeout_period</code> has no important notes</p></li><li><p><code>consumer_redistribution_fraction</code> has no important notes</p></li><li><p><code>blocks_per_distribution_transmission</code> has no important notes</p></li><li><p><code>historical_entries</code> has no important notes</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-upgrade-proposal-on-standalone-chain">2. upgrade proposal on standalone chain<a href="#2-upgrade-proposal-on-standalone-chain" class="hash-link" aria-label="Direct link to 2. upgrade proposal on standalone chain" title="Direct link to 2. upgrade proposal on standalone chain">​</a></h3><p>The standalone chain creates an upgrade proposal to include the <code>interchain-security/x/ccv/consumer</code> module.</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>The upgrade height in the proposal should correspond to a height that is after the <code>spawn_time</code> in the consumer addition proposal submitted to the <code>provider</code> chain.</p></div></div><p>Otherwise, the upgrade is indistinguishable from a regular on-chain upgrade proposal.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-spawn-time-is-reached">3. spawn time is reached<a href="#3-spawn-time-is-reached" class="hash-link" aria-label="Direct link to 3. spawn time is reached" title="Direct link to 3. spawn time is reached">​</a></h3><p>When the <code>spawn_time</code> is reached on the <code>provider</code> it will generate a <code>ConsumerGenesis</code> that contains the validator set that will supercede the <code>standalone</code> validator set.</p><p>This <code>ConsumerGenesis</code> must be available on the standalone chain during the on-chain upgrade.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-standalone-chain-upgrade">4. standalone chain upgrade<a href="#4-standalone-chain-upgrade" class="hash-link" aria-label="Direct link to 4. standalone chain upgrade" title="Direct link to 4. standalone chain upgrade">​</a></h3><p>Performing the on-chain upgrade on the standalone chain will add the <code>ccv/consumer</code> module and allow the chain to become a <code>consumer</code> of replicated security.</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>The <code>ConsumerGenesis</code> must be exported to a file and placed in the correct folder on the standalone chain before the upgade.</p><p>The file must be placed at the exact specified location, otherwise the upgrade will not be executed correctly.</p><p>Usually the file is placed in <code>$NODE_HOME/config</code>, but the file name and the exact directory is dictated by the upgrade code on the <code>standalone</code> chain.</p><ul><li>please check exact instructions provided by the <code>standalone</code> chain team</li></ul></div></div><p>After the <code>genesis.json</code> file has been made available, the process is equivalent to a normal on-chain upgrade. The standalone validator set will sign the next couple of blocks before transferring control to <code>provider</code> validator set.</p><p>The standalone validator set can still be slashed for any infractions if evidence is submitted within the <code>unboding_period</code>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="notes">Notes<a href="#notes" class="hash-link" aria-label="Direct link to Notes" title="Direct link to Notes">​</a></h4><p>The changeover procedure may be updated in the future to create a seamless way of providing the validator set information to the standalone chain.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="onboarding-checklist">Onboarding Checklist<a href="#onboarding-checklist" class="hash-link" aria-label="Direct link to Onboarding Checklist" title="Direct link to Onboarding Checklist">​</a></h2><p>This onboarding checklist is slightly different from the one under <a href="/interchain-security/legacy/v3.2.0/consumer-development/onboarding">Onboarding</a></p><p>Additionally, you can check the <a href="https://github.com/cosmos/testnets/blob/master/replicated-security/CONSUMER_LAUNCH_GUIDE.md" target="_blank" rel="noopener noreferrer">testnet repo</a> for a comprehensive guide on preparing and launching consumer chains.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-complete-testing--integration">1. Complete testing &amp; integration<a href="#1-complete-testing--integration" class="hash-link" aria-label="Direct link to 1. Complete testing &amp; integration" title="Direct link to 1. Complete testing &amp; integration">​</a></h2><ul class="contains-task-list containsTaskList_mC6p"><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->test integration with gaia</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->test your protocol with supported relayer versions (minimum hermes 1.4.1)</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->test the changeover procedure</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->reach out to the ICS team if you are facing issues</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-create-an-onboarding-repository">2. Create an Onboarding Repository<a href="#2-create-an-onboarding-repository" class="hash-link" aria-label="Direct link to 2. Create an Onboarding Repository" title="Direct link to 2. Create an Onboarding Repository">​</a></h2><p>To help validators and other node runners onboard onto your chain, please prepare a repository with information on how to run your chain.</p><p>This should include (at minimum):</p><ul class="contains-task-list containsTaskList_mC6p"><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->genesis.json with CCV data (after spawn time passes)</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->information about relevant seed/peer nodes you are running</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->relayer information (compatible versions)</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->copy of your governance proposal (as JSON)</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->a script showing how to start your chain and connect to peers (optional)</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->take feedback from other developers, validators and community regarding your onboarding repo and make improvements where applicable</li></ul><p>Example of such a repository can be found <a href="https://github.com/hyphacoop/ics-testnets/tree/main/game-of-chains-2022/sputnik" target="_blank" rel="noopener noreferrer">here</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-submit-a-consumerchainaddition-governance-proposal-to-the-provider">3. Submit a ConsumerChainAddition Governance Proposal to the provider<a href="#3-submit-a-consumerchainaddition-governance-proposal-to-the-provider" class="hash-link" aria-label="Direct link to 3. Submit a ConsumerChainAddition Governance Proposal to the provider" title="Direct link to 3. Submit a ConsumerChainAddition Governance Proposal to the provider">​</a></h2><p>Before you submit a <code>ConsumerChainAddition</code> proposal, please provide a <code>spawn_time</code> that is <strong>before</strong> the the <code>upgrade_height</code> of the upgrade that will introduce the <code>ccv module</code> to your chain.</p><div class="theme-admonition theme-admonition-danger alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>If the <code>spawn_time</code> happens after your <code>upgrade_height</code> the provider will not be able to communicate the new validator set to be used after the changeover.</p></div></div><p>Additionally, reach out to the community via the <a href="https://forum.cosmos.network/" target="_blank" rel="noopener noreferrer">forum</a> to formalize your intention to become an ICS consumer, gather community support and accept feedback from the community, validators and developers.</p><ul class="contains-task-list containsTaskList_mC6p"><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->determine your chain&#x27;s spawn time</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->determine consumer chain parameters to be put in the proposal</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->take note to include a link to your onboarding repository</li></ul><p>Example of a consumer chain addition proposal.</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// ConsumerAdditionProposal is a governance proposal on the provider chain to spawn a new consumer chain or add a standalone chain.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// If it passes, then all validators on the provider chain are expected to validate the consumer chain at spawn time.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// It is recommended that spawn time occurs after the proposal end time and that it is scheduled to happen before the standalone chain upgrade</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// that sill introduce the ccv module.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// Title of the proposal</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string-property property">&quot;title&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Changeover Standalone chain&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// Description of the proposal</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// format the text as a .md file and include the file in your onboarding repository</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string-property property">&quot;description&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;.md description of your chain and all other relevant information&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// Proposed chain-id of the new consumer chain.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// Must be unique from all other consumer chain ids of the executing provider chain.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string-property property">&quot;chain_id&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;standalone-1&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// Initial height of new consumer chain.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// For a completely new chain, this will be {0,1}.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string-property property">&quot;initial_height&quot;</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// must correspond to current revision number of standalone chain</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// e.g. standalone-1 =&gt; &quot;revision_number&quot;: 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string-property property">&quot;revision_number&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// must correspond to a height that is at least 1 block after the upgrade</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// that will add the `consumer` module to the standalone chain</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// e.g. &quot;upgrade_height&quot;: 100 =&gt; &quot;revision_height&quot;: 101</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string-property property">&quot;revision_number&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// Hash of the consumer chain genesis state without the consumer CCV module genesis params.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// =&gt; not relevant for changeover procedure</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string-property property">&quot;genesis_hash&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;d86d756e10118e66e6805e9cc476949da2e750098fcc7634fd0cc77f57a0b2b0&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// Hash of the consumer chain binary that should be run by validators on standalone chain upgrade</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// =&gt; not relevant for changeover procedure as it may become stale</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string-property property">&quot;binary_hash&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;376cdbd3a222a3d5c730c9637454cd4dd925e2f9e2e0d0f3702fc922928583f1&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// Time on the provider chain at which the consumer chain genesis is finalized and all validators</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// will be responsible for starting their consumer chain validator node.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string-property property">&quot;spawn_time&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;2023-02-28T20:40:00.000000Z&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// Unbonding period for the consumer chain.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// It should should be smaller than that of the provider.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string-property property">&quot;unbonding_period&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">86400000000000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// Timeout period for CCV related IBC packets.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// Packets are considered timed-out after this interval elapses.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string-property property">&quot;ccv_timeout_period&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">259200000000000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// IBC transfer packets will timeout after this interval elapses.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string-property property">&quot;transfer_timeout_period&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">1800000000000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// The fraction of tokens allocated to the consumer redistribution address during distribution events.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// The fraction is a string representing a decimal number. For example &quot;0.75&quot; would represent 75%.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// The reward amount distributed to the provider is calculated as: 1 - consumer_redistribution_fraction.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string-property property">&quot;consumer_redistribution_fraction&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;0.75&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// BlocksPerDistributionTransmission is the number of blocks between IBC token transfers from the consumer chain to the provider chain.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// eg. send rewards to the provider every 1000 blocks</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string-property property">&quot;blocks_per_distribution_transmission&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">1000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// The number of historical info entries to persist in store.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// This param is a part of the cosmos sdk staking module. In the case of</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// a ccv enabled consumer chain, the ccv module acts as the staking module.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string-property property">&quot;historical_entries&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">10000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// The ID of a token transfer channel used for the Reward Distribution</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// sub-protocol. If DistributionTransmissionChannel == &quot;&quot;, a new transfer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// channel is created on top of the same connection as the CCV channel.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// Note that transfer_channel_id is the ID of the channel end on the consumer chain.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// it is most relevant for chains performing a standalone to consumer changeover</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// in order to maintan the existing ibc transfer channel</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string-property property">&quot;distribution_transmission_channel&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;channel-123&quot;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// NOTE: use existing transfer channel if available</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-submit-an-upgrade-proposal--prepare-for-changeover">3. Submit an Upgrade Proposal &amp; Prepare for Changeover<a href="#3-submit-an-upgrade-proposal--prepare-for-changeover" class="hash-link" aria-label="Direct link to 3. Submit an Upgrade Proposal &amp; Prepare for Changeover" title="Direct link to 3. Submit an Upgrade Proposal &amp; Prepare for Changeover">​</a></h2><p>This proposal should add the ccv <code>consumer</code> module to your chain.</p><ul class="contains-task-list containsTaskList_mC6p"><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->proposal <code>upgrade_height</code> must happen after <code>spawn_time</code> in the <code>ConsumerAdditionProposal</code></li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->advise validators about the exact procedure for your chain and point them to your onboarding repository</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-upgrade-time-">4. Upgrade time 🚀<a href="#4-upgrade-time-" class="hash-link" aria-label="Direct link to 4. Upgrade time 🚀" title="Direct link to 4. Upgrade time 🚀">​</a></h2><ul class="contains-task-list containsTaskList_mC6p"><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->after <code>spawn_time</code>, request <code>ConsumerGenesis</code> from the <code>provider</code> and place it in <code>&lt;CURRENT_USER_HOME_DIR&gt;/.sovereign/config/genesis.json</code></li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->upgrade the binary to the one listed in your <code>UpgradeProposal</code></li></ul><p>The chain starts after at least 66.67% of standalone voting power comes online. The consumer chain is considered interchain secured once the &quot;old&quot; validator set signs a couple of blocks and transfers control to the <code>provider</code> validator set.</p><ul class="contains-task-list containsTaskList_mC6p"><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->provide a repo with onboarding instructions for validators (it should already be listed in the proposal)</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->genesis.json after <code>spawn_time</code> obtained from <code>provider</code> (MUST contain the initial validator set)</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->maintenance &amp; emergency contact info (relevant discord, telegram, slack or other communication channels)</li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/interchain-security/legacy/v3.2.0/consumer-development/offboarding"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Offboarding Checklist</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/interchain-security/legacy/v3.2.0/validators/overview"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Overview</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a><ul><li><a href="#1-consumeraddition-proposal-submitted-to-the-provider-chain" class="table-of-contents__link toc-highlight">1. ConsumerAddition proposal submitted to the <code>provider</code> chain</a></li><li><a href="#2-upgrade-proposal-on-standalone-chain" class="table-of-contents__link toc-highlight">2. upgrade proposal on standalone chain</a></li><li><a href="#3-spawn-time-is-reached" class="table-of-contents__link toc-highlight">3. spawn time is reached</a></li><li><a href="#4-standalone-chain-upgrade" class="table-of-contents__link toc-highlight">4. standalone chain upgrade</a></li></ul></li><li><a href="#onboarding-checklist" class="table-of-contents__link toc-highlight">Onboarding Checklist</a></li><li><a href="#1-complete-testing--integration" class="table-of-contents__link toc-highlight">1. Complete testing &amp; integration</a></li><li><a href="#2-create-an-onboarding-repository" class="table-of-contents__link toc-highlight">2. Create an Onboarding Repository</a></li><li><a href="#3-submit-a-consumerchainaddition-governance-proposal-to-the-provider" class="table-of-contents__link toc-highlight">3. Submit a ConsumerChainAddition Governance Proposal to the provider</a></li><li><a href="#3-submit-an-upgrade-proposal--prepare-for-changeover" class="table-of-contents__link toc-highlight">3. Submit an Upgrade Proposal &amp; Prepare for Changeover</a></li><li><a href="#4-upgrade-time-" class="table-of-contents__link toc-highlight">4. Upgrade time 🚀</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://cosmos.network"><img src="/img/logo-bw.svg" alt="Cosmos Logo"></a></li></ul></div><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://hub.cosmos.network" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cosmos Hub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://docs.cosmos.network" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cosmos SDK<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://docs.tendermint.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Tendermint Core<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ibc.cosmos.network" target="_blank" rel="noopener noreferrer" class="footer__link-item">IBC Go<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://blog.cosmos.network" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://forum.cosmos.network" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/cosmosnetwork" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://reddit.com/r/cosmosnetwork" target="_blank" rel="noopener noreferrer" class="footer__link-item">Reddit<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/cosmosnetwork" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/cosmos" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/c/CosmosProject" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://t.me/cosmosproject" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Informal Systems</div></div></div></footer></div>
<script src="/interchain-security/legacy/assets/js/runtime~main.6dc179b3.js"></script>
<script src="/interchain-security/legacy/assets/js/main.206ddac4.js"></script>
</body>
</html>